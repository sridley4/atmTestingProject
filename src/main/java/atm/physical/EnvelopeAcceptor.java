/* * ATM Example system - file EnvelopeAcceptor.java * * copyright (c) 2001 - Russell C. Bjork * */ package atm.physical;import simulation.Simulation;/** Manager for the ATM's envelope acceptor.  In a real ATM, this would  *  manage a physical device; in this simulation,  it uses classes  *  in package simulation to simulate the device. */ public class EnvelopeAcceptor{    private boolean testing;	/** Constructor     *     *  @param log the log in which to record receiving an envelope     */    public EnvelopeAcceptor(Log log)    {        this.log = log;    }        /** Constructor for testing    *    *  @param log the log in which to record receiving an envelope    *  @param testing boolean value indicating if testing is being performed    */    public EnvelopeAcceptor(Log log, boolean testing) {    	this.log = log;    	this.testing = testing;	}	/** Accept an envelope from customer.     *     *  @exception CustomerConsole.Cancelled if operation timed out or the     *             customer cancelled it     */    public void acceptEnvelope() throws CustomerConsole.Cancelled    {    	boolean inserted = true;    	if (!testing)    		inserted = Simulation.getInstance().acceptEnvelope();        if (inserted)            log.logEnvelopeAccepted();        else            throw new CustomerConsole.Cancelled();    }        /** Log in which to record receiving an envelope     */    private Log log;}